<!DOCTYPE html>
<html class="writer-html5" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ANACIN-X </title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css"
        type="text/css" />
    <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
    <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx_lesson.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx_rtd_theme_ext_color_contrast.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
    <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->

    <script data-url_root="" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/minipres.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex/" />
    <link rel="search" title="Search" href="search/" />
    <link rel="next" title="Quick Reference" href="quick-reference/" />
</head>

<body class="wy-body-for-nav">
    <div class="wy-grid-for-nav">
        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
            <div class="wy-side-scroll">
                <div class="wy-side-nav-search">
                    <a href="../index.html" class="icon icon-home">ANACIN-X
                        <img src="../_images/anacin-logo.png" class="logo" alt="Logo" />
                    </a>
                    <div role="search">
                        <form id="rtd-search-form" class="wy-form" action="search/" method="get">
                            <input type="text" name="q" placeholder="Search " />
                            <input type="hidden" name="check_keywords" value="yes" />
                            <input type="hidden" name="area" value="default" />
                        </form>
                    </div>
                </div>
                <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="../system_setup/">System Setup</a>
                        </li>
                    </ul>
                    <p class="caption" role="heading"><span class="caption-text">Chapters</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="../tutorial_objectives/">Tutorial
                                Objectives</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../mpi_and_nondeterminism/">MPI and
                                Non-Determinism</a></li>
                            
                        <li class="toctree-l1"><a class="reference internal" href="../graphs/">Graphs</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../anacin-x/">ANACIN-X</a><ul>
                            <li class="toctree-l2"><a class="reference internal"
                                    href="#execution_trace_collection">Execution Trace Collection </a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                    href="#event-graph-construction">Event Graph Construction
                                </a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                    href="#event-graph-analysis">Event Graph Analysis</a></li>
                            <li class="toctree-l2"><a class="reference internal"
                                        href="#visualization">Visualization</a></li>
                        </ul>
                        
                        
                        
                        
                        </li>
                        <li class="toctree-l1"><a class="reference internal" href="../benchmarks/">Benchmarks</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation </a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal" href="../running_anacinx/"><span
                                    class="pre"></span>Running ANACIN-X</a></li>
                        <li class="toctree-l1"><a class="reference internal" href="../results_interpretation/">Results
                                Interpretation </a></li>
                    </ul>

                    <p class="caption" role="heading"><span class="caption-text">Reference</span></p>
                    <ul>
                        <li class="toctree-l1"><a class="reference internal" href="quick-reference/">Quick Reference</a>
                        </li>
                        <li class="toctree-l1"><a class="reference internal" href="guide/">Instructor‚Äôs guide</a></li>
                    </ul>

                </div>
            </div>
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <nav class="wy-nav-top" aria-label="Mobile navigation menu">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="#">ANACIN-X </a>
            </nav>

            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="navigation" aria-label="Page navigation">
                        <ul class="wy-breadcrumbs">
                            <li><a href="#" class="icon icon-home"></a></li>
                            <li class="breadcrumb-item active">ANACIN-X </li>
                            <li class="wy-breadcrumbs-aside">
                                <a href="https://github.com/helloaashish/helloaashish.github.io/blob/main/content/index.rst"
                                    class="fa fa-github"> Edit on GitHub</a>
                            </li>
                        </ul>
                        <hr />
                    </div>
                    <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                        <div itemprop="articleBody">

                            <section id="lesson-name">
                                <h1>ANACIN-X Framework<a class="headerlink" href="#lesson-name"
                                        title="Permalink to this heading">ÔÉÅ</a></h1>
                                <p>
                                    Our framework allows scientists to characterize the source of non-determinism in a
                                    application without a priori knowledge of its communication patterns.
                                    ANACIN-X is a suite of software modules for trace-based analysis of
                                    non-deterministic behavior in MPI applications. The four core modules are as
                                    follows:
                                </p>
                                <div class="admonition-objectives objectives admonition" id="objectives-0">
                                    <p class="admonition-title">Modules</p>
                                    <ul class="simple">
                                        <li>
                                            <p><b>Execution Trace Collection:</b> A software module for trace generation
                                                and collection of an application's executions.</p>
                                        </li>
                                        <li>
                                            <p><b>Event Graph Construction:</b> A software module for event
                                                construction.</p>
                                        </li>
                                        <li>
                                            <p><b>Event Graph Analysis:</b> A software module for event graph kernel
                                                calculation</p>
                                        </li>
                                        <li>
                                            <p><b>Visualization:</b> A software module for visualization and analysis of
                                                kernel distance data.</p>
                                        </li>
                                    </ul>
                                </div>
                            </section>
                            <h3> Framework Diagram</h3>
                            <figure class="align-center" id="id4">
                                <img alt="../_images/E01-pack_unpack.svg" src="../_images/anacinx_images/ANACINX.png" />
                                <figcaption>
                                    <p><span class="caption-text">ANACIN-X framework</span><a class="headerlink"
                                            href="#id4" title="Permalink to this image">ÔÉÅ</a></p>
                                </figcaption>
                            </figure>
                        </div>

                        <div class="toctree-wrapper compound">
                        </div>

                        <section id="exection-trace-collection">


                            <span id="learner-personas"></span>
                            <h2>Exection Trace Collection <a class="headerlink" href="#pulling-anacinx"
                                    title="Permalink to this heading">ÔÉÅ</a></h2>
                            <p>
                                MPI applications often run multiple times as ensembles of jobs; non-determinism (i.e.,
                                run-to-run variations in communication behavior across the ensemble) can be studied in
                                this context.

                            </p>
                            <p>
                                By running multiple executions of an application, users can improve the statistical
                                significance of their comparisons vis-a-vis non-determinism
                            </p>
                            <p>
                                ANACIN- X quantifies and characterizes non-determinism in such applications by first
                                generating execution trace data via three tools, each of which depends on the MPI
                                Profiling Interface (PMPI).
                            </p>

                            <figure class="align-center" id="id4">
                                <img alt="../_images/E01-pack_unpack.svg"
                                    src="../_images/anacinx_images/tracing_tools.png" />
                                <figcaption>
                                    <p><span class="caption-text">PNMPI Tools</span><a class="headerlink" href="#id4"
                                            title="Permalink to this image">ÔÉÅ</a></p>
                                </figcaption>
                            </figure>

                            <div class="admonition-solution solution important dropdown admonition" id="solution-0">
                                <p class="admonition-title">DUMPI: Traces MPI communication calls and their order from
                                    the executions. </p>
                                <p>Tool developed at Sandia National Laboratories. ANACIN-X is using it according to its
                                    software release license.
                                    It generates one trace file per MPI process containing an unambiguous order of MPI
                                    communication events involving
                                    that process. At the same time, (SST) DUMPI imposes low overhead, and thus minimal
                                    probe effect [12],
                                    on the traced application.</p>
                            </div>
                            <div class="admonition-solution solution important dropdown admonition" id="solution-0">
                                <p class="admonition-title">Pluto: Collects memory addresses associated with those MPI
                                    communication calls to supplement (SST) DUMPI‚Äôs traces </p>
                                <p>Pluto was developed by the authors and traces memory addresses of MPI requests
                                    associated with non-blocking MPI calls. ANACIN-X uses these memory addresses to
                                    distinguish between different types of non-blocking MPI calls (one of the main
                                    sources of non-determinism in MPI applications</p>
                            </div>

                            <div class="admonition-solution solution important dropdown admonition" id="solution-0">
                                <p class="admonition-title"> CSMPI: Collects call-paths terminating in calls to MPI
                                    functions.</p>
                                <p>
                                    CSMPI was also developed by the authors and traces call-paths (i.e., sequences of
                                    function calls beginning with the executable‚Äôs entry point) terminat- ing in calls
                                    to MPI functions. In doing so, CSMPI associates runtime events (which may be
                                    non-deterministic) with static information about program structure.
                                </p>
                            </div>

                        </section>

                        <section id="event-graph-construction">


                            <span id="learner-personas"></span>
                            <h2>Event Graph Construction <a class="headerlink" href="#pulling-anacinx"
                                    title="Permalink to this heading">ÔÉÅ</a></h2>
                            <p>
                                ANACIN-X uses the trace files to model the execution of non-deterministic application as
                                a directed acyclic graph. It feeds the (SST) DUMPI, Pluto, and CSMPI trace files into
                                the <code
                                    class="docutils literal notranslate"><span class="pre">dumpi_to_graph</span></code>
                                tool to generate a graph model, or ‚Äôevent graph‚Äô, of each execution‚Äôs interprocess
                                communication.
                            </p>
                            <p>The DAG represents point to point communication events (message send and receives) and
                                edges represents happens before relationship between the events</p>




                            <div class="admonition-solution solution important dropdown admonition" id="solution-0">
                                <p class="admonition-title"> <code
                                        class="docutils literal notranslate"><span class="pre">dumpi_to_graph</span></code>
                                </p>
                                <p>
                                    The <code
                                        class="docutils literal notranslate"><span class="pre">dumpi_to_graph</span></code>
                                    tool was developed by the authors to construct a directed acyclic graph (DAG)
                                    representation of the order/interleaving of all MPI messages sent during the
                                    execution to which the input traces correspond. </p>
                            </div>
                            <img alt="../_images/E01-pack_unpack.svg"
                                src="../_images/anacinx_images/event_graph2.png" />
                            <figcaption>
                                <p><span class="caption-text">Event graph from MPI execution</span><a class="headerlink"
                                        href="#id4" title="Permalink to this image">ÔÉÅ</a></p>
                            </figcaption>
                            </figure>
                            <p>In practice, <code
                                    class="docutils literal notranslate"><span class="pre">dumpi_to_graph</span></code>
                                converts per-process trace data to graphs: one graph file is generated for each
                                execution. Figure above shows an example of event graph construction. </p>
                        </section>

                        <section id="event-graph-analysis">


                            <span id="learner-personas"></span>
                            <h2>Event Graph Analysis <a class="headerlink" href="#pulling-anacinx"
                                    title="Permalink to this heading">ÔÉÅ</a></h2>
<p>
    ‚Ä¢ ANACIN-X quantifies the differences between event graphs, and thus executions, via the Weisfeiler‚ÄìLehmann Subtree (WLST) graph kernel [22]. 
	‚Ä¢ ANACIN-X calculates the WLST kernel distance between two graphs using the GraphKernels [23] software package.
	‚Ä¢  The WLST graph kernel encodes graph structure into node labels by iteratively refining each node label with a hash of its neighbors‚Äô labels. 
	‚Ä¢  While many graph kernels exist [24], we select the WLST kernel primarily due to its performance characteristics. The asymptotic time complexity of the WLST kernel algorithm is ùëÇ(ùëÅh), where ùëÅ is the node count in the largest input graph and h is the vertex label refinement iteration count, where typically h ‚â™ ùëÅ.  Because the MPI executions targeted for study are both highly parallel and long-running, ùëÅ is very large in practice, which in turn prohibits use of graph kernels with superlinear time complexity. 


	‚Ä¢ For each pair of graphs (i.e., those corresponding to a pair of executions) ANACIN-X provides an API for defining a sliding window over the graphs for which a series of pairwise kernel distances are computed ‚Äî in effect, a kernel distance time series (KDTS). 
	‚Ä¢ . The KDTS of a pair of executions quantifies how the difference between the two executions‚Äô message orders varies over time. When the KDTS is low, the executions‚Äô message orders are similar, and vise-versa. 
 The collection of KDTSs obtained from all pairs of executions in an ensemble quantifies an application‚Äôs non-determinism as a whole. In effect, the individual KDTSs (i.e., those corresponding to pairs of executions) are merged into a time series of kernel distance distributions (i.e., corresponding to the entire ensemble of executions) 
</p>
                        </section>

                        <section id="visualization">


                            <span id="learner-personas"></span>
                            <h2>Visualization<a class="headerlink" href="#pulling-anacinx"
                                    title="Permalink to this heading">ÔÉÅ</a></h2>
<p>To view the relationship between kernel distance and non-determinism percentage (ND%) in an application, ANACIN-X sup- ports two types of visualizations for a KDTS file: (i) a violin plot showing the distribution of pairwise kernel distances for multiple configurations of the same application and (ii) a bar plot showing the relative frequency of call-paths in high-non-determinism areas of execution. An example of the first type of visualization is provided in Figure below.</p>
<p>These visualizations can be obtained via (i) a Jupyter notebook, which guides the user through the visualization process and displays each generated figure within it, or (ii) a set of Python scripts im- plementing a command line interface, which allow users to generate figures from the same place they submit jobs. </p>                       
<figure class="align-center" id="id4">
    <img alt="../_images/E01-pack_unpack.svg"
        src="../_images/anacinx_images/visualization.png" />
    <figcaption>
        <p><span class="caption-text">visualization</span><a class="headerlink" href="#id4"
                title="Permalink to this image">ÔÉÅ</a></p>
    </figcaption>
</figure>
</section>
            

                    </div>
                </div>
                <footer>
                    <div class="rst-footer-buttons" role="navigation" aria-label="Footer">
                        <a href="../one-sided-sync/" class="btn btn-neutral float-left"
                            title="One-sided communication: synchronization" accesskey="p" rel="prev"><span
                                class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
                        <a href="../mpi-and-threads-pt2/" class="btn btn-neutral float-right"
                            title="MPI and threads in practice" accesskey="n" rel="next">Next <span
                                class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
                    </div>

            </div>

            <hr />

            <div role="contentinfo">
                <p>&#169; Copyright 2020, The contributors.</p>
            </div>

            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
            <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
            provided by <a href="https://readthedocs.org">Read the Docs</a>.


            </footer>
    </div>
    </div>
    </section>
    </div>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>

</html>